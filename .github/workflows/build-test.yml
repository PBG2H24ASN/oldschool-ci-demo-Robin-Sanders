name: Build and Test Docker Image

on:
  push:

  jobs:
    build and test:
      runs on: ubuntu-latest
      steps:
        - name: Install docker
          run:
                sudo apt-get update 
                sudo apt-get install -y docker.io docker --version
        - name: Run docker Image
          run: 
            docker build -t oldschool-demo-Robin
        - name: Container Starten und testen
          run:
                output=$(docker run oldschool-demo-image-Robin)
                echo "$output"
                if [ "$output" == "OldSchool GmbH â€“ automatischer Build erfolgreich!" ]; then
                    app.sh
                  exit 1
                else
                fi
                  echo "Start fehlgeschlagen"
                  exit 2
                fi
                  fi
    
                
                
        
