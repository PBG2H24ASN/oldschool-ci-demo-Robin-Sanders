name: Build and Test Docker Image

on:
  push:
jobs: 
  build_and_test:
    runs-on: ubuntu-latest 
    steps:
      - name: Repository checkout
        uses: actions/checkout@v4
      - name: Install docker
        run: |
              sudo apt-get update 
              sudo apt-get install -y docker.io docker --version
      - name: Run docker Image
        run: docker build -t oldschool-demo-robin .
      - name: Container Starten und testen
        run: |
              output=$(docker run oldschool-demo-robin)
              echo "$output"
              if [ "$output" = "OldSchool GmbH â€“ automatischer Build erfolgreich! (Robin)" ]; then
                  echo "lol es ist erfolgreich gewesen"
                exit 0
              else
              
                echo "Start fehlgeschlagen"
                exit 2
              
              fi
    
                
                
        
